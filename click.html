<html>
  <head>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="helper/holoBack.js"></script>
  </head>
  <body>
    <a-scene vr-mode-ui="enabled: true">
      <a-entity id="right-hand" tracked-controls="controller: 5; hand:right; idPrefix: rightHand">
        <a-entity id="rightHand" rotation="0 0 0" position ="0 0 0" raycaster="objects: .selectable; showLine: true;"></a-entity>
      </a-entity>
      <a-entity position="0 2 -3">
        <!-- mainPlane -->
        <a-plane id="mainPlane" position="0 0 0" rotation="0 0 0" material="color: #253950; side: double; opacity: 1; visible: true;" scale="2 1 1">
          <a-text id="stepText" value="Step:"  position="-0.385 0.282 0" scale="0.597 1 1" anchor= "left" width= "1" color="#52d5ef" material=" side: double; visible: true;"></a-text>
          <a-text id="stepsText" value="1" position="-0.310 0.282 0" scale="0.597 1 1" anchor= "left" width= "1" color="#52d5ef" material=" side: double; visible: true;"></a-text>
          <a-text id="titelText" value="der titel kommt hier rein" position="-0.385 0.200 0" scale="0.597 1 1" anchor= "left" width= "0.95" material="color: #ffffff; side: double; opacity: 1; visible: true;"></a-text>
          
          <a-text id="mainText" value="012345678901234567890123456789012\n 012345678901234567890123456789012\n 012345678901234567890123456789012\n 012345678901234567890123456789012\n012345678901234567890123456789012\n012345678901234567890123456789012\n" position="-0.385 0.100 0" scale="0.597 1 1" anchor= "left" width= "1.5" baseline= "top" letterSpacing= "-0.17" lineHeight="50" wrapCount="38.1" material="color: #ffffff; side: double; opacity: 1; visible: true;"></a-text>
          
          <a-text id="counterText" value="1/100" position="-0.385 -0.420 0" scale="0.597 1 1" anchor= "left" width= "0.75" material="color: #ffffff; side: double; opacity: 1; visible: true;"></a-text>
        </a-plane>
        <!-- leftPlane -->
        <a-plane id="leftPlane" position="-0.997 0.220 0.01" rotation="0 0 0" material="color: #52d5ef; side: double; opacity: 1; visible: true;" scale="0.326 0.267 1"></a-plane>
        <!-- rightPlane -->
        <a-plane id="rightPlane" position="0.997 0.220 0.01" rotation="0 0 0" material="color: #52d5ef; side: double; opacity: 1; visible: true;" scale="0.326 0.267 1"></a-plane>
      </a-entity>
      <!-- HoloLens Transparent Background -->
      <a-holoBack></a-holoBack>
    </a-scene>
    <script>
      // HoloLens Airtap
       let box = document.querySelector('#targetBox');
        
        document.querySelector('[laser-controls]').addEventListener('triggerdown', function() {
            if (box.getAttribute('color') === "#4CC3D9") { // Wenn der Würfel blau ist
                box.setAttribute('color', "#FF0000"); // Ändern Sie die Farbe auf Rot
            } else {
                box.setAttribute('color', "#4CC3D9"); // Andernfalls ändern Sie sie zurück zu Blau
            }
        });

      //linke Hand Farbe
      let left = document.getElementById('leftPlane');
      left.classList.add('selectable'); // Mache den Cube 'clickable' für den Raycaster
      left.addEventListener('raycaster-intersected', function() {
          left.setAttribute('color', 'yellow');
      });
      left.addEventListener('raycaster-intersected-cleared', function() {
          left.setAttribute('color', '#52d5ef');
      });
      
      //rechte Hand Farbe
      let right = document.getElementById('rightPlane');
      right.classList.add('selectable'); // Mache den Cube 'clickable' für den Raycaster
      right.addEventListener('raycaster-intersected', function() {
          right.setAttribute('color', 'yellow');
      });
      right.addEventListener('raycaster-intersected-cleared', function() {
          right.setAttribute('color', '#52d5ef');
      });
    </script>
  </body>
</html>
