<!DOCTYPE html>
<html>
<head>
    <title>Geolocation API Beispiel</title>
    <script>
        // Funktion, um die Vorpeilung (initial bearing) zwischen zwei Punkten zu berechnen
        function calculateBearing(lat1, lon1, lat2, lon2) {
            const phi1 = lat1 * Math.PI / 180; // Umwandlung in Bogenmaß
            const phi2 = lat2 * Math.PI / 180;
            const deltaLambda = (lon2 - lon1) * Math.PI / 180;

            const x = Math.sin(deltaLambda) * Math.cos(phi2);
            const y = Math.cos(phi1) * Math.sin(phi2) - Math.sin(phi1) * Math.cos(phi2) * Math.cos(deltaLambda);

            let bearing = Math.atan2(x, y) * 180 / Math.PI;

            // Umwandlung in einen Winkel von 0 bis 360 Grad
            bearing = (bearing + 360) % 360;
            
            return bearing;
        }

        // Funktion, die aufgerufen wird, wenn der Benutzer auf den Button klickt
        function getMyLocation() {
            if ("geolocation" in navigator) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    const myLat = position.coords.latitude;
                    const myLon = position.coords.longitude;

                    // Koordinaten des geografischen Nordpols
                    const northPoleLat = 90;
                    const northPoleLon = 0;

                    const bearing = calculateBearing(myLat, myLon, northPoleLat, northPoleLon);

                    // Ausgabe der Ergebnisse
                    document.getElementById("myCoords").textContent = "Ihre Koordinaten: " + myLat + ", " + myLon;
                    document.getElementById("bearing").textContent = "Richtung zum Nordpol: " + bearing.toFixed(2) + "°";
                });
            } else {
                alert("Geolocation wird von Ihrem Browser nicht unterstützt.");
            }
        }
    </script>
</head>
<body>

<h1>Finden Sie Ihre Richtung zum geografischen Nordpol</h1>

<button onclick="getMyLocation()">Meine Position abrufen</button>

<p id="myCoords"></p>
<p id="bearing"></p>

</body>
</html>
